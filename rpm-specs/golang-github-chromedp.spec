# Generated by go2rpm 1
%ifarch x86_64
# Chromium is only available on these arches.
# i686 aarch64 are also available but seem to get stuck.
%bcond_without check
%else
%bcond_with check
%endif

%global debug_package %{nil}

# https://github.com/chromedp/chromedp
%global goipath         github.com/chromedp/chromedp
Version:                0.8.7

%gometa

%global common_description %{expand:
A faster, simpler way to drive browsers supporting the Chrome DevTools
Protocol.}

%global goextensions    js
%global golicenses      LICENSE
%global godocs          README.md

Name:           %{goname}
Release:        %autorelease
Summary:        Drive browsers supporting the Chrome DevTools Protocol

License:        MIT
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/chromedp/cdproto)
BuildRequires:  golang(github.com/gobwas/ws)
BuildRequires:  golang(github.com/mailru/easyjson)
%if %{with check}
BuildRequires:  chromium
%endif

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

# Chromium is broken on F34 currently.
%if %{with check} && %{fedora} <= 33
%check
%gocheck
%endif

%files

%gopkgfiles

%changelog
%autochangelog
