# Generated by go2rpm
%bcond_without check

%global debug_package %{nil}

# https://github.com/golang/groupcache
%global goipath         github.com/golang/groupcache
%global commit          41bb18bfe9da5321badc438f91158cd790a33aa3

%gometa

%global common_description %{expand:
Package Groupcache provides a data loading mechanism with caching and
de-duplication that works across a set of peer processes.

Each data Get first consults its local cache, otherwise delegates to the
requested key's canonical owner, which then checks its cache or finally gets the
data. In the common case, many concurrent cache misses across a set of peers for
the same key result in just one cache fill.}

%global golicenses      LICENSE
%global godocs          README.md

%global gosupfiles glide.lock glide.yaml

Name:           %{goname}
Version:        0
Release:        %autorelease -p -b 16
Summary:        Caching and cache-filling library, intended as a replacement

# Upstream license specification: Apache-2.0
# Automatically converted from old format: ASL 2.0 - review is highly recommended.
License:        Apache-2.0
URL:            %{gourl}
Source0:        %{gosource}
Source1:        glide.yaml
Source2:        glide.lock

BuildRequires:  golang(github.com/golang/protobuf/proto)

%description
%{common_description}

%gopkg

%prep
%goprep
cp %{S:1} %{S:2} .

%install
%gopkginstall

%if %{with check}
%check
%gocheck
%endif

%gopkgfiles

%changelog
%autochangelog
