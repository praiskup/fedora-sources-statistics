# Generated by go2rpm
%bcond_without check

%global debug_package %{nil}

# https://github.com/kurin/blazer
%global goipath         github.com/kurin/blazer
Version:                0.5.3

%gometa

%global common_description %{expand:
Blazer is a Golang client library for Backblaze's B2 object storage service. It
is designed for simple integration with existing applications that may already
be using S3 and Google Cloud Storage, by exporting only a few standard Go
types.}

%global golicenses      LICENSE
%global godocs          examples AUTHORS CONTRIBUTING.md README.md

Name:           %{goname}
Release:        %autorelease
Summary:        Go library for Backblaze's B2

# Upstream license specification: Apache-2.0
# Automatically converted from old format: ASL 2.0 - review is highly recommended.
License:        Apache-2.0
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/golang/protobuf/proto)
BuildRequires:  golang(github.com/google/subcommands)
BuildRequires:  golang(github.com/google/uuid)
BuildRequires:  golang(github.com/grpc-ecosystem/grpc-gateway/runtime)
BuildRequires:  golang(github.com/grpc-ecosystem/grpc-gateway/utilities)
BuildRequires:  golang(golang.org/x/net/context)
BuildRequires:  golang(google.golang.org/genproto/googleapis/api/annotations)
BuildRequires:  golang(google.golang.org/grpc)
BuildRequires:  golang(google.golang.org/grpc/codes)
BuildRequires:  golang(google.golang.org/grpc/grpclog)
BuildRequires:  golang(google.golang.org/grpc/metadata)
BuildRequires:  golang(google.golang.org/grpc/status)

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
# https://github.com/kurin/blazer/issues/81
rm base/strings_test.go
%gocheck
%endif

%gopkgfiles

%changelog
%autochangelog
