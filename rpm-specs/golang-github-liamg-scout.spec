# Generated by go2rpm 1.12.0
%bcond_without check

# https://github.com/liamg/scout
%global goipath         github.com/liamg/scout
Version:                0.15.2

%gometa -L -f

%global common_description %{expand:
A lightweight URL fuzzer and spider: Discover a web server's undisclosed files,
directories and VHOSTs.}

%global golicenses      LICENSE
%global godocs          README.md assets/vhost.txt assets/wordlist.txt

Name:           golang-github-liamg-scout
Release:        %autorelease
Summary:        Lightweight URL fuzzer and spider

License:        Unlicense
URL:            %{gourl}
Source:         %{gosource}

%description %{common_description}

%package -n     scout
Summary:        %{summary}

%description -n scout
%{summary}.

%gopkg

%prep
%goprep -A
%autopatch -p1

sed -i 's|github.com/avast/retry-go|github.com/avast/retry-go/v4|' $(find . -iname "*.go" -type f)

%generate_buildrequires
%go_generate_buildrequires

%build
%gobuild -o %{gobuilddir}/bin/scout %{goipath}/cmd/scout

%install
install -m 0755 -vd                     %{buildroot}%{_bindir}
install -m 0755 -vp %{gobuilddir}/bin/* %{buildroot}%{_bindir}/

%if %{with check}
%check
%gocheck
%endif

%files -n scout
%license LICENSE
%doc README.md assets/vhost.txt assets/wordlist.txt
%{_bindir}/scout

%changelog
%autochangelog
