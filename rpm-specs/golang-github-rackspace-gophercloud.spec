# Generated by go2rpm
%bcond_without check

%global debug_package %{nil}

# https://github.com/rackspace/gophercloud
%global goipath         github.com/rackspace/gophercloud
Version:                1.0.0
%global commit          e00690e87603abe613e9f02c816c7c4bef82e063

%gometa

%global common_description %{expand:
Gophercloud is a flexible SDK that allows you to consume and work with OpenStack
clouds in a simple and idiomatic way using Golang. Many services are supported,
including Compute, Block Storage, Object Storage, Networking, and Identity. Each
service API is backed with getting started guides, code samples, reference
documentation, unit tests and acceptance tests.}

%global golicenses      LICENSE
%global godocs          CONTRIBUTING.md CONTRIBUTORS.md README.md\\\
                        UPGRADING.md

Name:           %{goname}
Release:        %autorelease
Summary:        A Go SDK for OpenStack

# Upstream license specification: Apache-2.0
# Automatically converted from old format: ASL 2.0 - review is highly recommended.
License:        Apache-2.0
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/mitchellh/mapstructure)
BuildRequires:  golang(gopkg.in/yaml.v2)

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
%gocheck -t openstack/blockstorage \
         -t openstack/cdn/v1 \
         -d openstack/common/extensions \
         -t openstack/compute/v2 \
         -t openstack/db/v1 \
         -t openstack/identity/v2 \
         -t openstack/imageservice/v2 \
         -t openstack/networking/v2 \
         -t openstack/objectstorage/v1 \
         -t openstack/orchestration/v1 \
         -t openstack/telemetry/v2 \
         -t rackspace/autoscale/v1 \
         -t rackspace/blockstorage/v1 \
         -t rackspace/cdn/v1 \
         -t rackspace/compute/v2 \
         -t rackspace/db/v1 \
         -t rackspace/identity/v2 \
         -t rackspace/lb/v1 \
         -t rackspace/networking/v2 \
         -t rackspace/objectstorage/v1 \
         -t rackspace/orchestration/v1
%endif

%gopkgfiles

%changelog
%autochangelog
