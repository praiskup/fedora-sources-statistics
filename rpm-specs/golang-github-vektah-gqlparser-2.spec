# Generated by go2rpm 1.8.1
#
# This specfile is licensed under:
# SPDX-License-Identifier: MIT
# License text: https://spdx.org/licenses/MIT.html
# SPDX-FileCopyrightText: 2022 Maxwell G <gotmax@e.email>
# SPDX-FileCopyrightText: Fedora Project Authors

%bcond_without check
%global debug_package %{nil}
%global _docdir_fmt %{name}

# https://github.com/vektah/gqlparser
%global goipath         github.com/vektah/gqlparser/v2
Version:                2.5.0

%gometa -f

%global common_description %{expand:
A port of the parser from graphql-js into golang.}

%global golicenses      LICENSE LICENSE.validator-imported
%global godocs          readme.md reamdme.validator-imported.md

Name:           %{goname}
Release:        %autorelease
Summary:        A port of the parser from graphql-js into golang

# All files are MIT except those in validator/imported
License:        MIT AND BSD-3-Clause
URL:            %{gourl}
Source:         %{gosource}
# This "//go:embed prelude.graphql" causes dependent packages to fail to build.
Patch:          0001-Revert-Embed-prelude-214.patch

%description %{common_description}

%gopkg

%prep
%goprep
%autopatch -p1

%generate_buildrequires
%go_generate_buildrequires

%install
%gopkginstall
mv validator/imported/LICENSE LICENSE.validator-imported
mv validator/imported/readme.md reamdme.validator-imported.md

%if %{with check}
%check
%gocheck
%endif

%gopkgfiles

%changelog
%autochangelog
