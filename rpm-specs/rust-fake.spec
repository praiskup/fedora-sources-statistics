# Generated by rust2rpm 26
%bcond_without check
%global debug_package %{nil}

%global crate fake

Name:           rust-fake
Version:        2.9.2
Release:        %autorelease
Summary:        Easy to use library for generating fake data

# Upstream license specification: MIT/Apache-2.0
# * Patch out examples and features with unsatisfied dependencies
# * Allow chrono-tz 0.9
License:        MIT OR Apache-2.0
URL:            https://crates.io/crates/fake
Source:         %{crates_source}
# Manually created patch for downstream crate metadata changes
Patch:          fake-fix-metadata.diff

BuildRequires:  cargo-rpm-macros >= 24

%global _description %{expand:
An easy to use library for generating fake data like name, number,
address, lorem, dates, etc.}

%description %{_description}

%package        devel
Summary:        %{summary}
BuildArch:      noarch

%description    devel %{_description}

This package contains library source intended for building other packages which
use the "%{crate}" crate.

%files          devel
%license %{crate_instdir}/LICENSE-APACHE
%license %{crate_instdir}/LICENSE-MIT
%doc %{crate_instdir}/README.md
%{crate_instdir}/

%package     -n %{name}+default-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+default-devel %{_description}

This package contains library source intended for building other packages which
use the "default" feature of the "%{crate}" crate.

%files       -n %{name}+default-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+always-true-rng-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+always-true-rng-devel %{_description}

This package contains library source intended for building other packages which
use the "always-true-rng" feature of the "%{crate}" crate.

%files       -n %{name}+always-true-rng-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+bigdecimal-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+bigdecimal-devel %{_description}

This package contains library source intended for building other packages which
use the "bigdecimal" feature of the "%{crate}" crate.

%files       -n %{name}+bigdecimal-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+bigdecimal-rs-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+bigdecimal-rs-devel %{_description}

This package contains library source intended for building other packages which
use the "bigdecimal-rs" feature of the "%{crate}" crate.

%files       -n %{name}+bigdecimal-rs-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+chrono-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+chrono-devel %{_description}

This package contains library source intended for building other packages which
use the "chrono" feature of the "%{crate}" crate.

%files       -n %{name}+chrono-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+chrono-tz-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+chrono-tz-devel %{_description}

This package contains library source intended for building other packages which
use the "chrono-tz" feature of the "%{crate}" crate.

%files       -n %{name}+chrono-tz-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+derive-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+derive-devel %{_description}

This package contains library source intended for building other packages which
use the "derive" feature of the "%{crate}" crate.

%files       -n %{name}+derive-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+dummy-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+dummy-devel %{_description}

This package contains library source intended for building other packages which
use the "dummy" feature of the "%{crate}" crate.

%files       -n %{name}+dummy-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+maybe-non-empty-collections-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+maybe-non-empty-collections-devel %{_description}

This package contains library source intended for building other packages which
use the "maybe-non-empty-collections" feature of the "%{crate}" crate.

%files       -n %{name}+maybe-non-empty-collections-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+rand_core-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+rand_core-devel %{_description}

This package contains library source intended for building other packages which
use the "rand_core" feature of the "%{crate}" crate.

%files       -n %{name}+rand_core-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+rust_decimal-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+rust_decimal-devel %{_description}

This package contains library source intended for building other packages which
use the "rust_decimal" feature of the "%{crate}" crate.

%files       -n %{name}+rust_decimal-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+semver-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+semver-devel %{_description}

This package contains library source intended for building other packages which
use the "semver" feature of the "%{crate}" crate.

%files       -n %{name}+semver-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+serde_json-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+serde_json-devel %{_description}

This package contains library source intended for building other packages which
use the "serde_json" feature of the "%{crate}" crate.

%files       -n %{name}+serde_json-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+time-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+time-devel %{_description}

This package contains library source intended for building other packages which
use the "time" feature of the "%{crate}" crate.

%files       -n %{name}+time-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+uuid-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+uuid-devel %{_description}

This package contains library source intended for building other packages which
use the "uuid" feature of the "%{crate}" crate.

%files       -n %{name}+uuid-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+zerocopy-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+zerocopy-devel %{_description}

This package contains library source intended for building other packages which
use the "zerocopy" feature of the "%{crate}" crate.

%files       -n %{name}+zerocopy-devel
%ghost %{crate_instdir}/Cargo.toml

%prep
%autosetup -n %{crate}-%{version} -p1
%cargo_prep

%generate_buildrequires
%cargo_generate_buildrequires -f always-true-rng,derive

%build
%cargo_build -f always-true-rng,derive

%install
%cargo_install -f always-true-rng,derive

%if %{with check}
%check
# * skip a test that fails due to floating point accuracy issues
%cargo_test -f always-true-rng,derive -- -- --exact --skip test_generic::generic_enum
%endif

%changelog
%autochangelog
