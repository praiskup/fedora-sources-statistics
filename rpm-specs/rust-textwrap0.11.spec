# Generated by rust2rpm 24
# * missing dev-dependencies: lipsum ^0.6, version-sync ^0.6
%bcond_with check
%global debug_package %{nil}

%global crate textwrap

Name:           rust-textwrap0.11
Version:        0.11.0
Release:        %autorelease
Summary:        Small library for word wrapping, indenting, and dedenting strings

License:        MIT
URL:            https://crates.io/crates/textwrap
Source:         %{crates_source}
# Manually created patch for downstream crate metadata changes
# * drop unused hyphenation feature (missing dependencies)
Patch:          textwrap-fix-metadata.diff

BuildRequires:  rust-packaging >= 21

%global _description %{expand:
Textwrap is a small library for word wrapping, indenting, and dedenting
strings. You can use it to format strings (such as help and error
messages) for display in commandline applications. It is designed to be
efficient and handle Unicode characters correctly.}

%description %{_description}

%package        devel
Summary:        %{summary}
BuildArch:      noarch

%description    devel %{_description}

This package contains library source intended for building other packages which
use the "%{crate}" crate.

%files          devel
%license %{crate_instdir}/LICENSE
%doc %{crate_instdir}/README.md
%{crate_instdir}/

%package     -n %{name}+default-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+default-devel %{_description}

This package contains library source intended for building other packages which
use the "default" feature of the "%{crate}" crate.

%files       -n %{name}+default-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+term_size-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+term_size-devel %{_description}

This package contains library source intended for building other packages which
use the "term_size" feature of the "%{crate}" crate.

%files       -n %{name}+term_size-devel
%ghost %{crate_instdir}/Cargo.toml

%prep
%autosetup -n %{crate}-%{version_no_tilde} -p1
%cargo_prep

%generate_buildrequires
%cargo_generate_buildrequires

%build
%cargo_build

%install
%cargo_install

%if %{with check}
%check
%cargo_test
%endif

%changelog
%autochangelog
